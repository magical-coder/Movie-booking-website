<!DOCTYPE html>

<html lang="en" >
<head>
    <meta charset="utf-8" />
    <title>RSI Pune</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>
    <script src="js/jquery-2.2.3.min.js"></script>
    <style>
        body{
            background-color:#EAE7DC;
        }

        .seatStructure{
            padding-left :7%;
        }

        td{
            text-align: center;
            font-size: 18px;
            font-weight: bold;
        }

        .seat {
            height: 40px;
            width: 40px;
            padding: 3px;
            cursor:pointer;
            background-color:#EAE7DC;
            border-radius: 30px;
        }
        img{
            height: inherit;
            width: inherit;
            border-radius: 5px;
        }
        .walk{
            padding-left:40px;
        }
        .center-block {
            margin: 0 auto;
            margin-top : 80px;
            margin-bottom: 70px;
        }
        button {
            margin:0 auto;
            display:block;
        }
        .hd{
            visibility: hidden;
        }
        .butt{
            display: block;
            width: 100%;
            position: fixed;
            top: 0%;
            padding: 14px 28px;
            border: none;
            color: gold;
            font-size: 30px;
            font-weight: bold;
            background-color: black;
        }
        .butt1{
            display: block;
            width: 100%;
            position: fixed;
            bottom: 0%;
            color:darkred;
            font-size: 20px;
            font-weight: bold;
            background-color:cornflowerblue ;
            padding: 14px 28px;
            border: none;
        }
    </style>
    <script src="https://www.gstatic.com/firebasejs/5.7.0/firebase.js"></script>
<script>
    var config = {
        apiKey: "AIzaSyCR39pB2uR-d0vTFjLzRFxQUpQw6lclmPM",
        authDomain: "rsipune-f1dee.firebaseapp.com",
        databaseURL: "https://rsipune-f1dee.firebaseio.com",
        projectId: "rsipune-f1dee",
        storageBucket: "gs://rsipune-f1dee.appspot.com",
        messagingSenderId: "5185545204"
    };
    firebase.initializeApp(config);
    </script>
</head>
<body onload = "onLoadFunc()">
    <div>
        <button onclick="updateDB()" class="butt">CONFIRM</button>
    </div>
    
    <div class="seatStructure">
        <table class="center-block">
            <tr>
                <td class="walk">  </td>
                <td>1</td>
                <td>2</td>
                <td>3</td>
                <td>4</td>
                <td>5</td>
                <td>6</td>
                <td>7</td>
                <td>8</td>
                <td>9</td>
                <td>10</td>
                <td>11</td>
                <td class="walk">  </td>
                <td>12</td>
                <td>13</td>
                <td>14</td>
                <td>15</td>
                <td>16</td>
                <td>17</td>
                <td>18</td>
                <td>19</td>
                <td>20</td>
                <td>21</td>
                <td>22</td>
            </tr>
            <tr>
                <td>B</td>
                <td id="0" class="seat 0"><img src="seat.png"></td>
                <td id="1" class="seat 1"><img src="seat.png"></td>
                <td id="2" class="seat 2"><img src="seat.png"></td>
                <td id="3" class="seat 3"><img src="seat.png"></td>
                <td id="4" class="seat 4"><img src="seat.png"></td>
                <td id="5" class="seat 5"><img src="seat.png"></td>
                <td id="6" class="seat 6"><img src="seat.png"></td>
                <td id="7" class="seat 7"><img src="seat.png"></td>
                <td id="8" class="seat 8"><img src="seat.png"></td>
                <td id="9" class="seat 9"><img src="seat.png"></td>
                <td id="10" class="seat 10"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td id="11" class="seat 11"><img src="seat.png"></td>
                <td id="12" class="seat 12"><img src="seat.png"></td>
                <td id="13" class="seat 13"><img src="seat.png"></td>
                <td id="14" class="seat 14"><img src="seat.png"></td>
                <td id="15" class="seat 15"><img src="seat.png"></td>
                <td id="16" class="seat 16"><img src="seat.png"></td>
                <td id="17" class="seat 17"><img src="seat.png"></td>
                <td id="18" class="seat 18"><img src="seat.png"></td>
                <td id="19" class="seat 19"><img src="seat.png"></td>
                <td id="20" class="seat 20"><img src="seat.png"></td>
                <td id="21" class="seat 21"><img src="seat.png"></td>
                <td>B</td>
            </tr>
            <tr>
                <td>C</td>
                <td class="walk"></td>
                <td id="22" class="seat 22"><img src="seat.png"></td>
                <td id="23" class="seat 23"><img src="seat.png"></td>
                <td id="24" class="seat 24"><img src="seat.png"></td>
                <td id="25" class="seat 25"><img src="seat.png"></td>
                <td id="26" class="seat 26"><img src="seat.png"></td>
                <td id="27" class="seat 27"><img src="seat.png"></td>
                <td id="28" class="seat 28"><img src="seat.png"></td>
                <td id="29" class="seat 39"><img src="seat.png"></td>
                <td id="30" class="seat 30"><img src="seat.png"></td>
                <td id="31" class="seat 31"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td id="32" class="seat 32"><img src="seat.png"></td>
                <td id="33" class="seat 33"><img src="seat.png"></td>
                <td id="34" class="seat 34"><img src="seat.png"></td>
                <td id="35" class="seat 35"><img src="seat.png"></td>
                <td id="36" class="seat 36"><img src="seat.png"></td>
                <td id="37" class="seat 37"><img src="seat.png"></td>
                <td id="38" class="seat 38"><img src="seat.png"></td>
                <td id="39" class="seat 39"><img src="seat.png"></td>
                <td id="40" class="seat 40"><img src="seat.png"></td>
                <td id="41" class="seat 41"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td>C</td>
            </tr>
            <tr>
                <td>D</td>
                <td id="42" class="seat 42"><img src="seat.png"></td>
                <td id="43" class="seat 43"><img src="seat.png"></td>
                <td id="44" class="seat 44"><img src="seat.png"></td>
                <td id="45" class="seat 45"><img src="seat.png"></td>
                <td id="46" class="seat 46"><img src="seat.png"></td>
                <td id="47" class="seat 47"><img src="seat.png"></td>
                <td id="48" class="seat 48"><img src="seat.png"></td>
                <td id="49" class="seat 49"><img src="seat.png"></td>
                <td id="50" class="seat 50"><img src="seat.png"></td>
                <td id="51" class="seat 51"><img src="seat.png"></td>
                <td id="52" class="seat 52"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td id="53" class="seat 53"><img src="seat.png"></td>
                <td id="54" class="seat 54"><img src="seat.png"></td>
                <td id="55" class="seat 55"><img src="seat.png"></td>
                <td id="56" class="seat 56"><img src="seat.png"></td>
                <td id="57" class="seat 57"><img src="seat.png"></td>
                <td id="58" class="seat 58"><img src="seat.png"></td>
                <td id="59" class="seat 59"><img src="seat.png"></td>
                <td id="60" class="seat 60"><img src="seat.png"></td>
                <td id="61" class="seat 61"><img src="seat.png"></td>
                <td id="62" class="seat 62"><img src="seat.png"></td>
                <td id="63" class="seat 63"><img src="seat.png"></td>
                <td>D</td>
            </tr>
            <tr>
                <td>E</td>
                <td class="walk">  </td>
                <td id="64" class="seat 64"><img src="seat.png"></td>
                <td id="65" class="seat 65"><img src="seat.png"></td>
                <td id="66" class="seat 66"><img src="seat.png"></td>
                <td id="67" class="seat 67"><img src="seat.png"></td>
                <td id="68" class="seat 68"><img src="seat.png"></td>
                <td id="69" class="seat 69"><img src="seat.png"></td>
                <td id="70" class="seat 70"><img src="seat.png"></td>
                <td id="71" class="seat 71"><img src="seat.png"></td>
                <td id="72" class="seat 72"><img src="seat.png"></td>
                <td id="73" class="seat 73"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td id="74" class="seat 74"><img src="seat.png"></td>
                <td id="75" class="seat 75"><img src="seat.png"></td>
                <td id="76" class="seat 76"><img src="seat.png"></td>
                <td id="77" class="seat 77"><img src="seat.png"></td>
                <td id="78" class="seat 78"><img src="seat.png"></td>
                <td id="79" class="seat 79"><img src="seat.png"></td>
                <td id="80" class="seat 80"><img src="seat.png"></td>
                <td id="81" class="seat 81"><img src="seat.png"></td>
                <td id="82" class="seat 82"><img src="seat.png"></td>
                <td id="83" class="seat 83"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td>E</td>
            </tr>
            <tr>
                <td>F</td>
                <td id="84" class="seat 84"><img src="seat.png"></td>
                <td id="85" class="seat 85"><img src="seat.png"></td>
                <td id="86" class="seat 86"><img src="seat.png"></td>
                <td id="87" class="seat 87"><img src="seat.png"></td>
                <td id="88" class="seat 88"><img src="seat.png"></td>
                <td id="89" class="seat 89"><img src="seat.png"></td>
                <td id="90" class="seat 90"><img src="seat.png"></td>
                <td id="91" class="seat 91"><img src="seat.png"></td>
                <td id="92" class="seat 92"><img src="seat.png"></td>
                <td id="93" class="seat 93"><img src="seat.png"></td>
                <td id="94" class="seat 94"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td id="95" class="seat 95"><img src="seat.png"></td>
                <td id="96" class="seat 96"><img src="seat.png"></td>
                <td id="97" class="seat 97"><img src="seat.png"></td>
                <td id="98" class="seat 98"><img src="seat.png"></td>
                <td id="99" class="seat 99"><img src="seat.png"></td>
                <td id="100" class="seat 100"><img src="seat.png"></td>
                <td id="101" class="seat 101"><img src="seat.png"></td>
                <td id="102" class="seat 102"><img src="seat.png"></td>
                <td id="103" class="seat 103"><img src="seat.png"></td>
                <td id="104" class="seat 104"><img src="seat.png"></td>
                <td id="105" class="seat 105"><img src="seat.png"></td>
                <td>F</td>
            </tr>
            <tr>
                <td>G</td>
                <td class="walk">  </td>
                <td id="106" class="seat 106"><img src="seat.png"></td>
                <td id="107" class="seat 107"><img src="seat.png"></td>
                <td id="108" class="seat 108"><img src="seat.png"></td>
                <td id="109" class="seat 109"><img src="seat.png"></td>
                <td id="110" class="seat 110"><img src="seat.png"></td>
                <td id="111" class="seat 111"><img src="seat.png"></td>
                <td id="112" class="seat 112"><img src="seat.png"></td>
                <td id="113" class="seat 113"><img src="seat.png"></td>
                <td id="114" class="seat 114"><img src="seat.png"></td>
                <td id="115" class="seat 115"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td id="116" class="seat 116"><img src="seat.png"></td>
                <td id="117" class="seat 117"><img src="seat.png"></td>
                <td id="118" class="seat 118"><img src="seat.png"></td>
                <td id="119" class="seat 119"><img src="seat.png"></td>
                <td id="120" class="seat 120"><img src="seat.png"></td>
                <td id="121" class="seat 121"><img src="seat.png"></td>
                <td id="122" class="seat 122"><img src="seat.png"></td>
                <td id="123" class="seat 123"><img src="seat.png"></td>
                <td id="124" class="seat 124"><img src="seat.png"></td>
                <td id="125" class="seat 125"><img src="seat.png"></td>
                <td class="walk"></td>
                <td>G</td>
            </tr>
            <tr>
                <td>H</td>
                <td id="126" class="seat 126"><img src="seat.png"></td>
                <td id="127" class="seat 127"><img src="seat.png"></td>
                <td id="128" class="seat 128"><img src="seat.png"></td>
                <td id="129" class="seat 129"><img src="seat.png"></td>
                <td id="130" class="seat 130"><img src="seat.png"></td>
                <td id="131" class="seat 131"><img src="seat.png"></td>
                <td id="132" class="seat 132"><img src="seat.png"></td>
                <td id="133" class="seat 133"><img src="seat.png"></td>
                <td id="134" class="seat 134"><img src="seat.png"></td>
                <td id="135" class="seat 135"><img src="seat.png"></td>
                <td id="136" class="seat 136"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td id="137" class="seat 137"><img src="seat.png"></td>
                <td id="138" class="seat 138"><img src="seat.png"></td>
                <td id="139" class="seat 139"><img src="seat.png"></td>
                <td id="140" class="seat 140"><img src="seat.png"></td>
                <td id="141" class="seat 141"><img src="seat.png"></td>
                <td id="142" class="seat 142"><img src="seat.png"></td>
                <td id="143" class="seat 143"><img src="seat.png"></td>
                <td id="144" class="seat 144"><img src="seat.png"></td>
                <td id="145" class="seat 145"><img src="seat.png"></td>
                <td id="146" class="seat 146"><img src="seat.png"></td>
                <td id="147" class="seat 147"><img src="seat.png"></td>
                <td>H</td>
            </tr>
            <tr>
                <td>I</td>
                <td class="walk">  </td>
                <td id="148" class="seat 148"><img src="seat.png"></td>
                <td id="149" class="seat 149"><img src="seat.png"></td>
                <td id="150" class="seat 150"><img src="seat.png"></td>
                <td id="151" class="seat 151"><img src="seat.png"></td>
                <td id="152" class="seat 152"><img src="seat.png"></td>
                <td id="153" class="seat 153"><img src="seat.png"></td>
                <td id="154" class="seat 154"><img src="seat.png"></td>
                <td id="155" class="seat 155"><img src="seat.png"></td>
                <td id="156" class="seat 156"><img src="seat.png"></td>
                <td id="157" class="seat 157"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td id="158" class="seat 158"><img src="seat.png"></td>
                <td id="159" class="seat 159"><img src="seat.png"></td>
                <td id="160" class="seat 160"><img src="seat.png"></td>
                <td id="161" class="seat 161"><img src="seat.png"></td>
                <td id="162" class="seat 162"><img src="seat.png"></td>
                <td id="163" class="seat 163"><img src="seat.png"></td>
                <td id="164" class="seat 164"><img src="seat.png"></td>
                <td id="165" class="seat 165"><img src="seat.png"></td>
                <td id="166" class="seat 166"><img src="seat.png"></td>
                <td id="167" class="seat 167"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td>I</td>
            </tr>
            <tr class="seat hd"></tr>
            <tr>
                <td>J</td>
                <td id="168" class="seat 168"><img src="seat.png"></td>
                <td id="169" class="seat 169"><img src="seat.png"></td>
                <td id="170" class="seat 170"><img src="seat.png"></td>
                <td id="171" class="seat 171"><img src="seat.png"></td>
                <td id="172" class="seat 172"><img src="seat.png"></td>
                <td id="173" class="seat 173"><img src="seat.png"></td>
                <td id="174" class="seat 174"><img src="seat.png"></td>
                <td id="175" class="seat 175"><img src="seat.png"></td>
                <td id="176" class="seat 176"><img src="seat.png"></td>
                <td id="177" class="seat 177"><img src="seat.png"></td>
                <td id="178" class="seat 178"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td id="179" class="seat 179"><img src="seat.png"></td>
                <td id="180" class="seat 180"><img src="seat.png"></td>
                <td id="181" class="seat 181"><img src="seat.png"></td>
                <td id="182" class="seat 182"><img src="seat.png"></td>
                <td id="183" class="seat 183"><img src="seat.png"></td>
                <td id="184" class="seat 184"><img src="seat.png"></td>
                <td id="185" class="seat 185"><img src="seat.png"></td>
                <td id="186" class="seat 186"><img src="seat.png"></td>
                <td id="187" class="seat 187"><img src="seat.png"></td>
                <td id="188" class="seat 188"><img src="seat.png"></td>
                <td id="189" class="seat 189"><img src="seat.png"></td>
                <td>J</td>
            </tr>
            <tr>
                <td>K</td>
                <td class="walk">  </td>
                <td id="190" class="seat 190"><img src="seat.png"></td>
                <td id="191" class="seat 191"><img src="seat.png"></td>
                <td id="192" class="seat 192"><img src="seat.png"></td>
                <td id="193" class="seat 193"><img src="seat.png"></td>
                <td id="194" class="seat 194"><img src="seat.png"></td>
                <td id="195" class="seat 195"><img src="seat.png"></td>
                <td id="196" class="seat 196"><img src="seat.png"></td>
                <td id="197" class="seat 197"><img src="seat.png"></td>
                <td id="198" class="seat 198"><img src="seat.png"></td>
                <td id="199" class="seat 199"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td id="200" class="seat 200"><img src="seat.png"></td>
                <td id="201" class="seat 201"><img src="seat.png"></td>
                <td id="202" class="seat 202"><img src="seat.png"></td>
                <td id="203" class="seat 203"><img src="seat.png"></td>
                <td id="204" class="seat 204"><img src="seat.png"></td>
                <td id="205" class="seat 205"><img src="seat.png"></td>
                <td id="206" class="seat 206"><img src="seat.png"></td>
                <td id="207" class="seat 207"><img src="seat.png"></td>
                <td id="208" class="seat 208"><img src="seat.png"></td>
                <td id="209" class="seat 209"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td>K</td>
            </tr>
            <tr>
                <td>L</td>
                <td id="210" class="seat 210"><img src="seat.png"></td>
                <td id="211" class="seat 211"><img src="seat.png"></td>
                <td id="212" class="seat 212"><img src="seat.png"></td>
                <td id="213" class="seat 213"><img src="seat.png"></td>
                <td id="214" class="seat 214"><img src="seat.png"></td>
                <td id="215" class="seat 215"><img src="seat.png"></td>
                <td id="216" class="seat 216"><img src="seat.png"></td>
                <td id="217" class="seat 217"><img src="seat.png"></td>
                <td id="218" class="seat 218"><img src="seat.png"></td>
                <td id="219" class="seat 219"><img src="seat.png"></td>
                <td id="220" class="seat 220"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td id="221" class="seat 221"><img src="seat.png"></td>
                <td id="222" class="seat 222"><img src="seat.png"></td>
                <td id="223" class="seat 223"><img src="seat.png"></td>
                <td id="224" class="seat 224"><img src="seat.png"></td>
                <td id="225" class="seat 225"><img src="seat.png"></td>
                <td id="226" class="seat 226"><img src="seat.png"></td>
                <td id="227" class="seat 227"><img src="seat.png"></td>
                <td id="228" class="seat 228"><img src="seat.png"></td>
                <td id="229" class="seat 229"><img src="seat.png"></td>
                <td id="230" class="seat 230"><img src="seat.png"></td>
                <td id="231" class="seat 231"><img src="seat.png"></td>
                <td>L</td>
            </tr>
            <tr>
                <td>M</td>
                <td class="walk">  </td>
                <td id="232" class="seat 232"><img src="seat.png"></td>
                <td id="233" class="seat 233"><img src="seat.png"></td>
                <td id="234" class="seat 234"><img src="seat.png"></td>
                <td id="235" class="seat 235"><img src="seat.png"></td>
                <td id="236" class="seat 236"><img src="seat.png"></td>
                <td id="237" class="seat 237"><img src="seat.png"></td>
                <td id="238" class="seat 238"><img src="seat.png"></td>
                <td id="239" class="seat 239"><img src="seat.png"></td>
                <td id="240" class="seat 240"><img src="seat.png"></td>
                <td id="241" class="seat 241"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td id="242" class="seat 242"><img src="seat.png"></td>
                <td id="243" class="seat 243"><img src="seat.png"></td>
                <td id="244" class="seat 244"><img src="seat.png"></td>
                <td id="245" class="seat 245"><img src="seat.png"></td>
                <td id="246" class="seat 246"><img src="seat.png"></td>
                <td id="247" class="seat 247"><img src="seat.png"></td>
                <td id="248" class="seat 248"><img src="seat.png"></td>
                <td id="249" class="seat 249"><img src="seat.png"></td>
                <td id="250" class="seat 250"><img src="seat.png"></td>
                <td id="251" class="seat 251"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td>M</td>
            </tr>
            <tr>
                <td>N</td>
                <td id="252" class="seat 252"><img src="seat.png"></td>
                <td id="253" class="seat 253"><img src="seat.png"></td>
                <td id="254" class="seat 254"><img src="seat.png"></td>
                <td id="255" class="seat 255"><img src="seat.png"></td>
                <td id="256" class="seat 256"><img src="seat.png"></td>
                <td id="257" class="seat 257"><img src="seat.png"></td>
                <td id="258" class="seat 258"><img src="seat.png"></td>
                <td id="259" class="seat 259"><img src="seat.png"></td>
                <td id="260" class="seat 260"><img src="seat.png"></td>
                <td id="261" class="seat 261"><img src="seat.png"></td>
                <td id="262" class="seat 262"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td id="263" class="seat 263"><img src="seat.png"></td>
                <td id="264" class="seat 264"><img src="seat.png"></td>
                <td id="265" class="seat 265"><img src="seat.png"></td>
                <td id="266" class="seat 266"><img src="seat.png"></td>
                <td id="267" class="seat 267"><img src="seat.png"></td>
                <td id="268" class="seat 268"><img src="seat.png"></td>
                <td id="269" class="seat 269"><img src="seat.png"></td>
                <td id="270" class="seat 270"><img src="seat.png"></td>
                <td id="271" class="seat 271"><img src="seat.png"></td>
                <td id="272" class="seat 272"><img src="seat.png"></td>
                <td id="273" class="seat 273"><img src="seat.png"></td>
                <td>N</td>
            </tr>
            <tr class="seat hd"></tr>
            <tr>
                <td>O</td>
                <td class="walk">  </td>
                <td id="274" class="seat 274"><img src="seat.png"></td>
                <td id="275" class="seat 275"><img src="seat.png"></td>
                <td id="276" class="seat 276"><img src="seat.png"></td>
                <td id="277" class="seat 277"><img src="seat.png"></td>
                <td id="278" class="seat 278"><img src="seat.png"></td>
                <td id="279" class="seat 279"><img src="seat.png"></td>
                <td id="280" class="seat 280"><img src="seat.png"></td>
                <td id="281" class="seat 281"><img src="seat.png"></td>
                <td id="282" class="seat 282"><img src="seat.png"></td>
                <td id="283" class="seat 283"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td id="284" class="seat 284"><img src="seat.png"></td>
                <td id="285" class="seat 285"><img src="seat.png"></td>
                <td id="286" class="seat 286"><img src="seat.png"></td>
                <td id="287" class="seat 287"><img src="seat.png"></td>
                <td id="288" class="seat 288"><img src="seat.png"></td>
                <td id="289" class="seat 289"><img src="seat.png"></td>
                <td id="290" class="seat 290"><img src="seat.png"></td>
                <td id="291" class="seat 291"><img src="seat.png"></td>
                <td id="292" class="seat 292"><img src="seat.png"></td>
                <td id="293" class="seat 293"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td>O</td>
            </tr>
            <tr>
                <td>P</td>
                <td id="294" class="seat 294"><img src="seat.png"></td>
                <td id="295" class="seat 295"><img src="seat.png"></td>
                <td id="296" class="seat 296"><img src="seat.png"></td>
                <td id="297" class="seat 297"><img src="seat.png"></td>
                <td id="298" class="seat 298"><img src="seat.png"></td>
                <td id="299" class="seat 299"><img src="seat.png"></td>
                <td id="300" class="seat 300"><img src="seat.png"></td>
                <td id="301" class="seat 301"><img src="seat.png"></td>
                <td id="302" class="seat 302"><img src="seat.png"></td>
                <td id="303" class="seat 303"><img src="seat.png"></td>
                <td id="304" class="seat 304"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td id="305" class="seat 305"><img src="seat.png"></td>
                <td id="306" class="seat 306"><img src="seat.png"></td>
                <td id="307" class="seat 307"><img src="seat.png"></td>
                <td id="308" class="seat 308"><img src="seat.png"></td>
                <td id="309" class="seat 309"><img src="seat.png"></td>
                <td id="310" class="seat 310"><img src="seat.png"></td>
                <td id="311" class="seat 311"><img src="seat.png"></td>
                <td id="312" class="seat 312"><img src="seat.png"></td>
                <td id="313" class="seat 313"><img src="seat.png"></td>
                <td id="314" class="seat 314"><img src="seat.png"></td>
                <td id="315" class="seat 315"><img src="seat.png"></td>
                <td>P</td>
            </tr>
            <tr>
                <td>Q</td>
                <td class="walk">  </td>
                <td id="316" class="seat 316"><img src="seat.png"></td>
                <td id="317" class="seat 317"><img src="seat.png"></td>
                <td id="318" class="seat 318"><img src="seat.png"></td>
                <td id="319" class="seat 319"><img src="seat.png"></td>
                <td id="320" class="seat 320"><img src="seat.png"></td>
                <td id="321" class="seat 321"><img src="seat.png"></td>
                <td id="322" class="seat 322"><img src="seat.png"></td>
                <td id="323" class="seat 323"><img src="seat.png"></td>
                <td id="324" class="seat 324"><img src="seat.png"></td>
                <td id="325" class="seat 325"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td id="326" class="seat 326"><img src="seat.png"></td>
                <td id="327" class="seat 327"><img src="seat.png"></td>
                <td id="328" class="seat 328"><img src="seat.png"></td>
                <td id="329" class="seat 329"><img src="seat.png"></td>
                <td id="330" class="seat 330"><img src="seat.png"></td>
                <td id="331" class="seat 331"><img src="seat.png"></td>
                <td id="332" class="seat 332"><img src="seat.png"></td>
                <td id="333" class="seat 333"><img src="seat.png"></td>
                <td id="334" class="seat 334"><img src="seat.png"></td>
                <td id="335" class="seat 335"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td>Q</td>
            </tr>
            <tr>
                <td>R</td>
                <td id="336" class="seat 336"><img src="seat.png"></td>
                <td id="337" class="seat 337"><img src="seat.png"></td>
                <td id="338" class="seat 338"><img src="seat.png"></td>
                <td id="339" class="seat 339"><img src="seat.png"></td>
                <td id="340" class="seat 340"><img src="seat.png"></td>
                <td id="341" class="seat 341"><img src="seat.png"></td>
                <td id="342" class="seat 342"><img src="seat.png"></td>
                <td id="343" class="seat 343"><img src="seat.png"></td>
                <td id="344" class="seat 344"><img src="seat.png"></td>
                <td id="345" class="seat 345"><img src="seat.png"></td>
                <td id="346" class="seat 346"><img src="seat.png"></td>
                <td class="walk">  </td>
                <td id="347" class="seat 347"><img src="seat.png"></td>
                <td id="348" class="seat 348"><img src="seat.png"></td>
                <td id="349" class="seat 349"><img src="seat.png"></td>
                <td id="350" class="seat 350"><img src="seat.png"></td>
                <td id="351" class="seat 351"><img src="seat.png"></td>
                <td id="352" class="seat 352"><img src="seat.png"></td>
                <td id="353" class="seat 353"><img src="seat.png"></td>
                <td id="354" class="seat 354"><img src="seat.png"></td>
                <td id="355" class="seat 355"><img src="seat.png"></td>
                <td id="356" class="seat 356"><img src="seat.png"></td>
                <td id="357" class="seat 357"><img src="seat.png"></td>
                <td>R</td>
            </tr>
            <tr>
                <td class="walk">  </td>
                <td>1</td>
                <td>2</td>
                <td>3</td>
                <td>4</td>
                <td>5</td>
                <td>6</td>
                <td>7</td>
                <td>8</td>
                <td>9</td>
                <td>10</td>
                <td>11</td>
                <td class="walk">  </td>
                <td>12</td>
                <td>13</td>
                <td>14</td>
                <td>15</td>
                <td>16</td>
                <td>17</td>
                <td>18</td>
                <td>19</td>
                <td>20</td>
                <td>21</td>
                <td>22</td>
            </tr>
        </table>
    </div>
    <div>
        <button class="butt1 bu1">Screen This Way</button>
    </div>
    <script>
        
        //window.onload = onLoadFunc();
        var map = {};
        var m;
        var sc = 0;
        var arr1=[];
        //var arr2=[];
        //var mapp = {};

{{!-- var i;
for(i=0; i<359; i++){
    if(i>=0 && i<22){
        mapp[i]='B'+(i+1);
    }
    else if(i>=22 && i<42){
        mapp[i]='C'+(i-21);
    }
    else if(i>=42 && i<64){
        mapp[i]='D'+(i-41);
    }
    else if(i>=64 && i<84){
        mapp[i]='E'+(i-63);
    }
    else if(i>=84 && i<106){
        mapp[i]='F'+(i-83);
    }
    else if(i>=106 && i<126){
        mapp[i]='G'+(i-105);
    }
    else if(i>=126 && i<148){
        mapp[i]='H'+(i-125);
    }
    else if(i>=148 && i<168){
        mapp[i]='I'+(i-147);
    }
    else if(i>=168 && i<190){
        mapp[i]='J'+(i-167);
    }
    else if(i>=190 && i<210){
        mapp[i]='K'+(i-189);
    }
    else if(i>=210 && i<232){
        mapp[i]='L'+(i-209);
    }
    else if(i>=232 && i<252){
        mapp[i]='M'+(i-231);
    }
    else if(i>=252 && i<274){
        mapp[i]='N'+(i-251);
    }
    else if(i>=274 && i<294){
        mapp[i]='O'+(i-273);
    }
    else if(i>=294 && i<316){
        mapp[i]='P'+(i-293);
    }
    else if(i>=316 && i<336){
        mapp[i]='Q'+(i-315);
    }
    else if(i>=336 && i<358){
        mapp[i]='R'+(i-335);
    }
} --}}
        var k;
        var h=0;
        for(k=0; k<358; k++){
            map[k]=0;
        }
        var seatCount = {{totalSeats}};
        var count = 0;
        var flag=0;
        function onLoadFunc(){
            $(".bu1").css("pointer-events" , "none");
            $(".seat").css("pointer-events" , "none");
            var ref2 = firebase.database().ref("Movies/"+"{{movieKey}}"+"/hall/Users/");
            ref2.once('value',function(snapshot){
                firebase.database().ref("Movies/"+"{{movieKey}}"+"/hall/Users/-1/time").set(firebase.database.ServerValue.TIMESTAMP);
                snapshot.forEach(childSnapshot => {
                    if(childSnapshot.key!=-1){
                        $('.'+childSnapshot.key).css({"background-color":"#E98074"});
                        var ref3 = firebase.database().ref("Movies/"+"{{movieKey}}"+"/hall/Users/-1");
                        ref3.once('value',function(snapshot){
                            var base = snapshot.val().time;
                            var x = childSnapshot.val().time;
                            var y = base-x;
                            var z = 300000;
                            if(y > z){
                                //console.log('yes');
                                firebase.database().ref("Movies/"+"{{movieKey}}"+"/hall/Users/"+childSnapshot.key).remove();
                            }
                        });
                    }
                });
            });
            var reff = firebase.database().ref("Movies/"+"{{movieKey}}"+"/hall/status/");
            reff.once('value',function(snapshot){
                snapshot.forEach(childSnapshot => {
                    if(childSnapshot.val()==="R"){
                        $('.'+childSnapshot.key).css({"background-color":"#E98074"});
                    }
                });
                $(".seat").css("pointer-events" , "auto");
            });
        }

        
            $('.seat').click(function() {
                var color = $(this).css("background");
                if($(this).css("background")=="rgb(233, 128, 116) none repeat scroll 0% 0% / auto padding-box border-box"){
                    window.alert("already selected");
                }else{

                    var text = $(this).attr('id');
                    if(map[text]==0){
                        count = count +1;
                        sc = sc+1;
                        if(sc>seatCount){
                            sc = sc-1;
                            count = count-1;
                        }
                        else
                        {map[text]=1;
                        $(this).css({"background":"#8E8D8A"});
                        let reff1 = firebase.database().ref("Movies/"+"{{movieKey}}"+"/hall/Users/");
                        reff1.once('value',function(snapshot){
                            if(snapshot.hasChild(text)){
                                //alert('exists');
                            }else{
                                firebase.database().ref("Movies/{{movieKey}}/hall/Users/"+text).set({
                                    time: firebase.database.ServerValue.TIMESTAMP,
                                    seat : text,
                                    user : '{{rsiid}}'
                                });
                            }
                        });
                        }
                    }else{
                        map[text]=0;
                        count = count - 1;
                        sc = sc-1;
                        $(this).css({"background":"rgb(222, 228, 228)"});
                        let reff1 = firebase.database().ref("Movies/"+"{{movieKey}}"+"/hall/Users");
                        reff1.once('value',function(snapshot){
                            if(snapshot.hasChild(text)){
                            let reff3 =  firebase.database().ref("Movies/"+"{{movieKey}}"+"/hall/Users/" + text);
                            reff3.once('value',function(snapshot){
                                if(snapshot.val().user==="{{rsiid}}"){
                                    firebase.database().ref("Movies/"+"{{movieKey}}"+"/hall/Users/"+text).remove();
                                }
                            });
                            }else{
                                // alert('no entry is there');
                            }
                        });
                    }
                }
            });
        

        function updateDB(){
            h=0;
            for(m=0; m<357; m++){
                if(map[m]===1){
                    arr1[h] = m;
                    //arr2[h]=mapp[m];
                    h=h+1;
                }
            }
            if(count==seatCount){
                var o;
                var flag=0;
                for(o=0; o<arr1.length; o++){
                    var reff3 =  firebase.database().ref("Movies/"+"{{movieKey}}"+"/hall/Users/" + arr1[o]);
                    reff3.once('value',function(snapshot){
                        if(snapshot.val().user!=="{{rsiid}}"){
                            alert('You Are Late!');
                            window.location.href = "/layout";
                        }else{
                            flag++;
                        }
                        if(flag===seatCount){
                            var seats={arr1};
                            var jsonSeats = encodeURI("/summary?seats="+JSON.stringify(seats)); 
                            window.location.href = jsonSeats;
                        }
                    });

                }
            }else{
                alert('Select Correct Number of Seats!');
                //window.location.href = "/layout";
            }
        }
        //window.alert(arr1);                      
        function confirmDB(){
            var i;
            for(i=0; i<arr1.length; i++){
                firebase.database().ref('Movies/'+'{{movieKey}}'+'/hall/status/'+arr1[i]).set("R");
            }
        }
    </script>
</body>
</html>


{{!-- <s-2114>
    9960685110
</s-2114> --}}